{"version":3,"sources":["main.js"],"names":["debounce","func","wait","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout","$","on","$this","attr","toggleClass","searchForm","searchSpinner","searchInput","closest","find","removeClass","addClass","leftOpen","rightOpen","slideSibling","targetId","targetElement","leftPane","rightPane","leftTargetPane","rightTargetPane","is","slideUp","slideDown","e","preventDefault","initialize","defaultBounds","google","maps","LatLngBounds","LatLng","originInput","document","getElementById","options","bounds","componentRestrictions","country","autocomplete","places","Autocomplete","event","addDomListener","window","getLocation","navigator","geolocation","getCurrentPosition","position","console","log","coords","latitude","longitude","checkCookie","name","nameEQ","ca","cookie","split","i","length","c","charAt","substring","indexOf","createCookie","value","days","expires","date","Date","setTime","getTime","toGMTString","ready","cookieBanner","fixedHeader","fixedHeaderOffset","offset","top","fixedHeaderTrigger","$body","hasClass","scrollTop","css","height","removeAttr","addEventListener","isActive","data","tab","offsetTop","outerHeight","currentScroll","slick","autoplay","autoplaySpeed","dots","arrows","responsive","breakpoint","settings","slidesToScroll","slidesToShow","fade"],"mappings":"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","file":"main.js","sourcesContent":["'use strict';\n/* global google  */\n/**\n* the debounce function takes a callback, a wait time in milliseconds,\n * and an immediate trigger (true, false value)\n * It returns a function, which checks if immediate is returned true.\n * If not, it applies (curries) the arguments of the debounce function to the callback function.\n * \n*/\n\nfunction debounce (func, wait, immediate) { // eslint-disable-line no-unused-vars\n    var timeout;\n    return function () {\n        var context = this, args = arguments;\n        var later = () => {\n            timeout = null;\n            if (!immediate) func.apply(context, args);\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n    };\n}\n\n// If it's got a target and a toggle and somebody clicks it, toggle that target\n$('*[data-target]*[data-toggle]').on('click', function () {\n    const $this = $(this);\n    $( $this.attr('data-target') ).toggleClass( $this.attr('data-toggle') );\n});\n\nconst searchForm = $('#searchForm');\nconst searchSpinner = $('.js-loadingSpinner');\nconst searchInput = $('.js-searchInput');\n\nsearchInput.on('keyup', function () {\n    $(this).closest('form').find(searchSpinner).removeClass('d-none').addClass('d-flex');\n});\n\nsearchInput.on('blur', function () {\n    $(this).closest('form').find(searchSpinner).removeClass('d-flex').addClass('d-none');\n});\n\nlet leftOpen = false;\nlet rightOpen = false;\n\n// This function is used for the header the header has slide down sections;\n// the search overlay, and the product overlay.\n// This function makes sure that only one or the other is active at any given time.\n\nfunction slideSibling (targetId) {\n\n    const targetElement = $(targetId);\n    const leftPane = $('#leftPane');\n    const rightPane = $('#rightPane');\n\n    // Get id of both panes\n    const leftTargetPane = $('#productCollapse');\n    const rightTargetPane = $('#storeCollapse');\n\n    // Get State of left pane\n    if (leftTargetPane.is(':visible')) {\n        leftOpen = true;\n    }\n\n    // Get State of right pane\n    if (rightTargetPane.is(':visible')) {\n        rightOpen = true;\n    }\n\n    if (targetElement.is(leftPane)) {\n        leftPane.addClass('background-secondary');\n        rightPane.removeClass('background-secondary');\n        rightTargetPane.slideUp();\n        leftTargetPane.slideDown();\n        rightOpen = false;\n    } else {\n        rightPane.addClass('background-secondary');\n        leftPane.removeClass('background-secondary');\n        leftTargetPane.slideUp();\n        rightTargetPane.slideDown();\n        leftOpen = false;\n    }\n\n    if (targetElement.is(leftPane) && leftTargetPane.is(':visible') && leftOpen === true) {\n        leftTargetPane.slideUp();\n        leftPane.removeClass('background-secondary');\n        leftOpen = false;\n    } else if (targetElement.is(rightPane) && rightTargetPane.is(':visible') && rightOpen === true) {\n        rightTargetPane.slideUp();\n        rightPane.removeClass('background-secondary');\n        rightOpen = false;\n    }\n}\n\n$(searchForm).on('submit', function (e) {\n    e.preventDefault();\n    slideSibling('#leftPane');\n});\n\n$('#rightPane').on('click', function () {\n    slideSibling('#rightPane');\n});\n\n/*\n    Store search - autocomplete example\n*/\n\n/* eslint-disable no-unused-vars */\n\nfunction initialize () {\n    var defaultBounds = new google.maps.LatLngBounds(\n        new google.maps.LatLng(51.523005, -0.131837)\n    );\n\n    var originInput = document.getElementById('searchLocation');\n\n    var options = {\n        bounds: defaultBounds,\n        componentRestrictions: { country: 'uk' }\n    };\n\n    var autocomplete = new google.maps.places.Autocomplete(originInput, options);\n}\n\ngoogle.maps.event.addDomListener(window, 'load', initialize);\n/* eslint-enable no-unused-vars */\n\nfunction getLocation () {\n    if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(function (position) {\n            return console.log([position.coords.latitude, position.coords.longitude]); //eslint-disable-line\n        });\n    }\n}\n\n/*\n    Store search - Get location\n*/\n\n$('.js-useLocation').on('click', function () {\n    getLocation();\n});\n\n'use strict';\n\nfunction checkCookie (name) {\n    //name of our cookie to search against\n    var nameEQ = name + '=';\n    //an array of all of the cookies on the page\n    var ca = document.cookie.split(';');\n    for (var i = 0; i < ca.length; i++) {\n        var c = ca[i];\n        //if the first character is a space remove it and do this until first character\n        //is not a space\n        while (c.charAt(0) === ' ') c = c.substring(1, c.length);\n        //return value of cookie if it is found\n        if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\n    }\n    return null;\n}\n\nfunction createCookie (name, value, days) {\n    var expires = '';\n    if (days) {\n        var date = new Date();\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n        expires = '; expires=' + date.toGMTString();\n    }\n    document.cookie = name + '=' + value + expires + '; path=/';\n}\n\n$(document).ready(function () {\n    var cookieBanner = $('#cookieBanner');\n    if (checkCookie('complianceCookie') === null) {\n        cookieBanner.addClass('show');\n    }\n\n    $('.js-cookieClose').on('click', function () {\n        createCookie('complianceCookie', 'on', 14);\n    });\n});\n\n'use strict';\n/* global debounce */\n\n/**\n* Fixed header watcher\n* This function is going to watch any .js-fixedHeader class and add fixed if we're down below it's height\n* Makes use of the debounce function\n*/\n// Set the trigger element\nvar fixedHeader = $('.js-fixedHeader');\n// Add the current top to memory\nvar fixedHeaderOffset = fixedHeader.offset().top;\n\n//wrap the trigger in a debounce, with a wait time of 10ms.\nvar fixedHeaderTrigger = debounce(function () {\n\n    let $body = $('body');\n\n    // If we're in a no scroll state dont worry about resizing\n    if ( $body.hasClass('noScroll') ) {\n        return false;\n    }\n\n    //checks if the header offset is of a greater value, and applies the fixed top class\n    //else, remove the class \n    if ( $(this).scrollTop() >= fixedHeaderOffset ) {\n        $body.css('margin-top', fixedHeader.height());\n        fixedHeader.addClass('fixed-top');\n    } else {\n        $body.removeAttr('style');\n        fixedHeader.removeClass('fixed-top');\n    }\n}, 10);\n//attach the listener to the scroll event\nwindow.addEventListener('scroll', fixedHeaderTrigger);\n\n// Bootstrap tabNav doesn't allow for unclicking the current tab so we've added that in here\n$('.js-tabNav').on('click', function () {\n    // Not using bootstrap as their code cannot hide tabs\n    const $this = $( this );\n\n    // Get that current state of the window\n    const isActive = $this.hasClass('active');\n\n    // Clear the state before deciding our next move\n    $('.js-tabNav').removeClass('active');\n\n    // If we used to be active\n    if ( isActive ) {\n        // Close our current window down\n        $($this.data('target')).removeClass('active');\n    } else {\n        // Show the correct tab\n        $(this).tab('show');\n    }\n\n});\n\n// This function will lock the window and allow an inner element to scroll\n$('.js-fixedScroll').on('click', function () {\n    // Not using bootstrap as their code cannot hide tabs\n    const $this = $( this );\n\n    // Get that current state of the element\n    const isActive = $this.hasClass('active');\n\n    // If we used to be active\n    if ( isActive ) {\n        // Lets assume it's top\n        let offsetTop = 0;\n\n        // Unless we're told it's variable\n        if ( $this.data('variable-top') === true ) {\n            // Then check if we're in a fixed header state or not\n            offsetTop = $('.js-fixedHeader').hasClass('fixed-top') ? $this.outerHeight() : $this.offset().top + $this.outerHeight();\n        }\n\n        // Unless we are supposed to be variable based on parent\n        if ( $this.data('variable-parent') ) {\n            // In that case copy the parent\n            offsetTop = $this.closest( $this.data('variable-parent') ).css('top');\n        }\n        // Find our target and make it scrollable and also set the correct top\n        $($this.data('target')).addClass('scrollInner').css('top', offsetTop);\n\n        // No lets go looking for parent containers\n        const currentScroll = $this.closest('.scrollInner');\n        if ( currentScroll.length ) {\n            // If we have any, it's time to make that no scroll\n            $this.closest('.scrollInner').addClass('noScroll');\n        } else {\n            // Otherwise, final place to look is the body\n            $('body').addClass('noScroll');\n        }\n    } else {\n        // Clear up, look for the target and take off the inner\n        $($this.data('target')).removeClass('scrollInner');\n        // Traverse the dom looking for nearest no scroll and remove\n        $this.closest('.noScroll').removeClass('noScroll');\n    }\n});\n\n// adds a border to the tabs, as the default border is always visible,\n// whereas it is not in the design.\n// this is toggled to match the design.\n$('a[role=\"tab\"]').on('show.bs.tab', function () {\n    $('.nav-tabs').addClass('header_introduction header_thin');\n});\n\n$(document).ready(function () {\n    // Setting up a slick carousel - http://kenwheeler.github.io/slick/\n    $('.js-promoCarousel').slick({\n        autoplay: true,\n        autoplaySpeed: 5000,\n        dots: false,\n        arrows: false,\n        responsive: [\n            {\n                breakpoint: 991,\n                settings: {\n                    slidesToScroll: 1,\n                    slidesToShow: 1,\n                    fade: true\n                }\n            },\n            {\n                breakpoint: 99999,\n                settings: {\n                    slidesToShow: 4\n                }\n            }\n\n        ]\n    });\n});\n"]}